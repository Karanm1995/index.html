<!DOCTYPE html>
<html lang="hi">
<head>
  <meta charset="UTF-8">
  <title>Unicode to Kruti Dev 010 Converter</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 800px;
      margin: auto;
      padding: 20px;
      background: #f3f3f3;
    }
    h1 {
      color: #444;
      text-align: center;
    }
    textarea {
      width: 100%;
      height: 150px;
      margin: 10px 0;
      padding: 10px;
      font-size: 18px;
      line-height: 1.5;
    }
    button {
      padding: 10px 20px;
      font-size: 18px;
      margin: 10px 0;
      cursor: pointer;
    }
    #output {
      font-family: 'Kruti Dev 010', 'Mangal', sans-serif;
    }
  </style>
</head>
<body>

<h1>Unicode to Kruti Dev 010 Converter</h1>

<label>Type in Unicode Hindi:</label>
<textarea id="input" placeholder="aap kaha rehte ho"></textarea>

<button onclick="convert()">Convert</button>

<label>Kurti Dev Output:</label>
<textarea id="output" readonly></textarea>

<button onclick="copyOutput()">Copy</button>

<script>
function convert() {
  let text = document.getElementById('input').value;

  // Basic rules for matra / akshar replacement
  let rules = [
    ['क्', 'd'],
    ['क', 'd'],
    ['ख', '[k'],
    ['ग', 'x'],
    ['घ', 'X'],
    ['ङ', 'vks'],
    ['च', 'p'],
    ['छ', 'P'],
    ['ज', 't'],
    ['झ', 'T'],
    ['ञ', 'N'],
    ['ट', 'V'],
    ['ठ', 'B'],
    ['ड', 'M'],
    ['ढ', '<'],
    ['ण', '.k'],
    ['त', 'r'],
    ['थ', 'F'],
    ['द', 'n'],
    ['ध', '/k'],
    ['न', 'u'],
    ['प', 'i'],
    ['फ', 'Q'],
    ['ब', 'c'],
    ['भ', 'H'],
    ['म', 'e'],
    ['य', ';'],
    ['र', 'j'],
    ['ल', 'y'],
    ['व', 'o'],
    ['श', "'k"],
    ['ष', '"k'],
    ['स', 'l'],
    ['ह', 'g'],
    ['़', '`'],
    ['ा', 'k'],
    ['ि', 'f'],
    ['ी', 'h'],
    ['ु', 'q'],
    ['ू', 'w'],
    ['े', 's'],
    ['ै', 'S'],
    ['ो', 'ks'],
    ['ौ', 'kS'],
    ['ं', 'M'],
    ['ः', ':'],
    ['ँ', '±'],
    ['्', ''],
    ['ृ', 'Z'],
    [' ', ' ']
  ];

  // Fix for post-base matras like 'ि' coming before consonant
  text = text.replace(/([क-ह]्?)(ि)/g, 'f$1');

  // Apply rules
  for (let [unicodeChar, krutiDevChar] of rules) {
    let regex = new RegExp(unicodeChar, 'g');
    text = text.replace(regex, krutiDevChar);
  }

  document.getElementById('output').value = text;
}

function copyOutput() {
  const output = document.getElementById("output");
  output.select();
  document.execCommand("copy");
  alert("Copied to clipboard!");
}
</script>

</body>
</html>
